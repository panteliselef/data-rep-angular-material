<app-navbar style="width: 100%" class="mat-elevation-z6"></app-navbar>


<app-dataset-top-bar
  style="width: 100%; display: flex; justify-content: center; align-items: center; border-bottom: 1px solid rgba(0, 0, 0, 0.12);"
  >
</app-dataset-top-bar>


<main *ngIf="(gplGraph$ | async) as gplData else loader" class="app-two-column-grid">
<!--<main class="app-two-column-grid">-->
  <div style="gap: 35px;" class="v-flex">
    <app-dataset-filter-bar></app-dataset-filter-bar>
    <app-dataset-network-graph></app-dataset-network-graph>
  </div>
  <div style="gap: 30px;" class="v-flex">

    <div *ngIf="(selectedNode$ | async) as selectedNode" style="display: flex;align-items: flex-start; flex-direction: column;gap:9px;padding-bottom: 35px"
         class="as-card with-padding">
      <div class="badge-node">NODE</div>
      <p class="title title_1">{{selectedNode.id}}</p>
      <p class="subtitle subtitle_1 text-light-green">{{selectedNode.group}}</p>
    </div>

    <div *ngIf="(selectedEdge$ | async) as selectedEdge" style="display: flex;align-items: flex-start; flex-direction: column;gap:9px;padding-bottom: 21px"
         class="as-card with-padding">
      <div class="badge-edge">EDGE</div>

      <div style="display: flex;gap:6px;">

        <div class="v-flex" style="gap:9px;">
          <p class="title title_1">{{selectedEdge.from?.id}}</p>
          <p class="subtitle subtitle_1 text-light-green" style="max-width: 150px">{{selectedEdge.from?.group}}</p>
        </div>


        <div><p class="title title_1">-</p></div>

        <div class="v-flex" style="gap:9px;">
          <p class="title title_1">{{selectedEdge.to?.id}}</p>
          <p class="subtitle subtitle_1 text-light-green" style="max-width: 150px">{{selectedEdge.to?.group}} </p>
        </div>

      </div>
    </div>

    <div *ngIf="!(isEdgeNodeSelected$ | async)" style="padding: 0 17px" class="as-card">
      <div class="hint-with-badges" style="height: 56px">
        <p class="text">Select a</p>
        <div class="badge-node">NODE</div>
        <p class="text">or an</p>
        <div class="badge-edge">EDGE</div>
        <p class="text">from the network graph</p>
      </div>
    </div>

    <div *ngIf="!(isEdgeNodeSelected$ | async)" class="as-card with-padding">
      <p class="title title_2">Graph Legend</p>

      <div class="legend_list">
        <div class="legend_list_item" *ngFor="let item of gplData.categories">
          <div></div>
          <p>{{item.name}}</p>
        </div>

      </div>

    </div>
  </div>
</main>


<ng-template #loader>
  loading....
</ng-template>
