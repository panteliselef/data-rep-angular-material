<!--<div class="category-container">-->

<!--  <h1>Choose category</h1>-->

<!--</div>-->

<!--<div class="inputs">-->
<!--  <div>-->

<!--  </div>-->

<!--  <div class="input-item" [style.width]=" '35%'">-->
<!--    <mat-form-field [style.width]=" '30%'" appearance="standard">-->
<!--      <mat-label>Edges</mat-label>-->
<!--      <input matInput [min]="10" [max]="maxSliderValue" type="number" (ngModelChange)="handleSliderChange($event)"-->
<!--             [(ngModel)]="currSliderValue">-->
<!--    </mat-form-field>-->


<!--    <mat-slider [style.width]=" '65%'" min="10" [max]="maxSliderValue" step="1" [(value)]="currSliderValue" thumbLabel-->
<!--                tickInterval="1" (change)="handleSliderChange($event)"></mat-slider>-->

<!--  </div>-->

<!--</div>-->

<!--<h4 *ngIf="lastSelectedNode">Last Selected Node: {{lastSelectedNode}}</h4>-->

<div class="graph-area">
  <div
    class="network-canvas"
    [visNetwork]="visNetwork"
    [visNetworkData]="visNetworkData"
    [visNetworkOptions]="visNetworkOptions"
    (initialized)="networkInitialized()"
  ></div>
  <div class="side-info" [ngClass]="{'open': showDetails}">

    <div style="padding: 0 1rem">
      <h2 *ngIf="detailsInfo.type === 'node'">{{detailsInfo.name}}</h2>

      <h2 *ngIf="detailsInfo.type === 'edge'">
        <span (click)="focusNode(detailsInfo.edgeFrom)">
          {{detailsInfo.edgeFrom}}
        </span> -
        <span (click)="focusNode(detailsInfo.edgeTo)">{{detailsInfo.edgeTo}}</span>
      </h2>
      <!--    <span>{{detailsInfo.type}}</span>-->

      <div class="info_text" *ngIf="detailsInfo.type === 'node'">
        <span>Connected Nodes</span>
        <p>{{detailsInfo.connectedNodes.length}}</p>
      </div>

      <div class="info_text" *ngIf="detailsInfo.type === 'edge'">
        <span>Edge Frequency</span>
        <p>{{detailsInfo.edgeWeight}}</p>
      </div>

      <div class="info_text" *ngIf="detailsInfo.type === 'edge'" style="margin-top: 2rem">
        <span>Similarities found between</span>
        <!--      <p>{{detailsInfo.edgeWeight}}</p>-->
      </div>

      <div class="info_text" *ngIf="detailsInfo.type === 'node'" style="margin-top: 2rem">
        <span>Studies</span>
        <!--      <p>{{detailsInfo.edgeWeight}}</p>-->
      </div>
    </div>


    <mat-tab-group animationDuration="100ms" dynamicHeight *ngIf="detailsInfo?.datasets">
      <mat-tab label="Neighbors">

        <table mat-table id="neighbors" [dataSource]="detailsInfo.connectedNodes" style="width: 100%">

          <!--- Note that these columns can be defined in any order.
                The actual rendered columns are set as a property on the row definition" -->
          <!-- Name Column -->
          <ng-container matColumnDef="connected_node">
            <th mat-header-cell *matHeaderCellDef> Node </th>
            <td mat-cell (click)="focusNode(element.node)" *matCellDef="let element"> {{element.node}} </td>
          </ng-container>

          <!-- Symbol Column -->
          <ng-container matColumnDef="edge_freq">
            <th mat-header-cell *matHeaderCellDef> Edge Frequency</th>
            <td mat-cell (click)="focusEdge(element)" *matCellDef="let element">{{element.weight}}</td>
          </ng-container>

          <!--        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>-->
          <tr mat-row *matRowDef="let row; columns: ['connected_node','edge_freq'];"></tr>
        </table>
      </mat-tab>
      <mat-tab label="GSEs">
        <table mat-table [dataSource]="detailsInfo.datasets" style="width: 100%">

          <!--- Note that these columns can be defined in any order.
                The actual rendered columns are set as a property on the row definition" -->

          <!-- Position Column -->
          <ng-container matColumnDef="GSE">
            <th mat-header-cell *matHeaderCellDef> GSE</th>
            <td mat-cell *matCellDef="let element">
              <a href="https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc={{element.GSE}}" target="_blank"
                 rel="noopener">
                {{element.GSE}}
              </a></td>
          </ng-container>

          <!-- Name Column -->
          <ng-container matColumnDef="Samples">
            <th mat-header-cell *matHeaderCellDef> Samples</th>
            <td mat-cell *matCellDef="let element"> {{element.Samples}} </td>
          </ng-container>

          <!-- Weight Column -->
          <ng-container matColumnDef="Entity">
            <th mat-header-cell *matHeaderCellDef> Entity</th>
            <td mat-cell *matCellDef="let element"> {{element.Entity}} </td>
          </ng-container>

          <!-- Symbol Column -->
          <ng-container matColumnDef="Type">
            <th mat-header-cell *matHeaderCellDef> Type</th>
            <td mat-cell *matCellDef="let element">
              <span> {{element.Type}}</span>
              <!--          <span class="gmail_like"></span>-->

              <div class="gmail_like">
                <button mat-icon-button matTooltip="Download Data"
                        aria-label="Example icon button with a vertical three dot icon">
                  <mat-icon fontSet="material-icons-round">file_download</mat-icon>
                </button>
                <button mat-icon-button matTooltip="Download Annotation"
                        aria-label="Example icon button with a vertical three dot icon">
                  <mat-icon fontSet="material-icons-round">description</mat-icon>
                </button>
              </div>
            </td>
          </ng-container>

          <!--        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>-->
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
      </mat-tab>
    </mat-tab-group>


    <table *ngIf="detailsInfo?.datasetPairs" mat-table [dataSource]="detailsInfo.datasetPairs" style="width: 100%">
      <ng-container matColumnDef="Dataset A">
        <th mat-header-cell *matHeaderCellDef> Study A</th>
        <td mat-cell *matCellDef="let element">
          <a href="https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc={{element.dA}}" target="_blank" rel="noopener">
            {{element.dA}}
          </a>

          <div class="gmail_like gmail_like_solid" style="background: transparent">
            <button mat-icon-button matTooltip="Download Data"
                    aria-label="Example icon button with a vertical three dot icon">
              <mat-icon fontSet="material-icons-round">file_download</mat-icon>
            </button>
            <button mat-icon-button matTooltip="Download Annotation"
                    aria-label="Example icon button with a vertical three dot icon">
              <mat-icon fontSet="material-icons-round">description</mat-icon>
            </button>
          </div>
        </td>
      </ng-container>

      <ng-container matColumnDef="Dataset B">
        <th mat-header-cell *matHeaderCellDef> Study B</th>
        <td mat-cell *matCellDef="let element">
          <a href="https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc={{element.dB}}" target="_blank" rel="noopener">
            {{element.dB}}
          </a>

          <div class="gmail_like gmail_like_solid" style="background: transparent">
            <button mat-icon-button matTooltip="Download Data"
                    aria-label="Example icon button with a vertical three dot icon">
              <mat-icon fontSet="material-icons-round">file_download</mat-icon>
            </button>
            <button mat-icon-button matTooltip="Download Annotation"
                    aria-label="Example icon button with a vertical three dot icon">
              <mat-icon fontSet="material-icons-round">description</mat-icon>
            </button>
          </div>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="['Dataset A','Dataset B']"></tr>
      <tr mat-row *matRowDef="let row; columns: ['Dataset A','Dataset B'];"></tr>
    </table>


    <!--    <table>-->
    <!--      <tr *ngFor="let dataset of detailsInfo.datasets">-->
    <!--        <td><a href="https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc={{dataset.GSE}}" target="_blank" rel="noopener">-->
    <!--          {{dataset.GSE}}-->
    <!--        </a></td>-->
    <!--        <td>{{dataset.Samples}}</td>-->
    <!--        <td>{{dataset.Entity}}</td>-->
    <!--        <td>{{dataset.Type}}<div class="gmail_like"></div></td>-->
    <!--      </tr>-->
    <!--    </table>-->
    <!--    <ul *ngIf="detailsInfo" class="s">-->
    <!--      <li  *ngFor="let dataset of detailsInfo.datasets">-->
    <!--        <a href="https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc={{dataset}}" target="_blank" rel="noopener">-->
    <!--          {{dataset}}-->
    <!--        </a>-->
    <!--      </li>-->
    <!--    </ul>-->
  </div>


</div>

